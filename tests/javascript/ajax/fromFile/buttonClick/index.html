<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajax</title>

    <style>
        #showImage {
            width: 100px;
            height: auto;
        }

        #errorInfo {
            color: red;
        }
    </style>

</head>

<body>

    <input id="searchName" type="text">
    <button id="searchFind" onclick="findUser()">find</button>
    <h1 id="showName"></h1>
    <p id="errorInfo"></p>
    <img id="showImage" src="dummyImg.png" alt="">

    <script>
        function findUser() {
            let user = document.getElementById("searchName").value;
            console.log(user);
            let xhttp = new XMLHttpRequest();
            xhttp.open("GET", `https://api.github.com/users/${user}`, true);
            xhttp.send();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    let response = this.responseText;
                    response = JSON.parse(response);
                    console.log(response);
                    if(response.message){
                        document.getElementById("errorInfo").innerHTML = response.message;
                    }
                    else{
                    document.getElementById("showName").innerHTML = response.login;
                    document.getElementById("showImage").src = response.avatar_url;

                    }

                }
            };
        }
    </script>
</body>

</html>